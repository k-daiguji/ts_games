(()=>{"use strict";const e=(e,t,n)=>Math.min(Math.max(e,n),t),t=(e=0,r=0)=>{const{quotient:a,remainder:l}=(o=r,{quotient:Math.floor(o/12),remainder:o%12});var o;const s=n(e+a,l);return{id:"age",text:s,equal:e=>s===e.text,increment:()=>t(e+a,l+1)}},n=(e,t)=>t<2?`${e}y/o ${t}mo.`:`${e}y/o ${t}mos.`,r=e=>e?"XX":"XY",a=document,l=e=>a.querySelector(e),o=e=>Math.floor(Math.random()*e),s=(e,t)=>setTimeout(e,1e3*t),m=(e,t,n)=>e-n<=t&&e+n>=t,i=l("#month"),c=(()=>{const e=l("#cat");var t;return e&&(t=e,a.body.removeChild(t)),()=>(e=>e?.cloneNode(!0))(e)})();let f,d=!0;const u=n=>{const r=c();return r.addEventListener("dragstart",()=>{d=!1}),r.addEventListener("dragend",t=>{clearTimeout(f),f=s(()=>{d=!0},5/Number(y.value));const n=t.target.parentElement,{offsetHeight:r,offsetWidth:a}=n??{offsetHeight:0,offsetWidth:0},l=e((t.y-72)/r*100,100,0);t.target.style.top=`${l}%`;const o=e((t.x-24)/a*100,100,0);t.target.style.left=`${o}%`}),{age:t(),element:r,sex:n,coolTime:12,top:0,left:0}},h=t(1),p=t(10),y=l("#speed"),g=e=>{d&&e.forEach(e=>{e.age=e.age.increment(),h.equal(e.age)&&(e.element.className="adult"),e.coolTime&&e.coolTime--,e.element.style.top=`${o(100)}%`,e.element.style.left=`${o(100)}%`});const t=e.filter(e=>!p.equal(e.age)),{females:n,males:a}=t.filter(e=>!e.coolTime).reduce((e,t)=>{const{females:n,males:r}=e;return"XX"===t.sex?{females:n,males:[...r,t]}:{females:[...n,t],males:r}},{females:[],males:[]}),c=t.concat(a.flatMap(e=>{const t=n.find(t=>((e,t)=>{const n={x:parseInt(e.element.style.left,10),y:parseInt(e.element.style.top,10)},r={x:parseInt(t.element.style.left,10),y:parseInt(t.element.style.top,10)};return m(n.y,r.y,5)&&m(n.x,r.x,5)})(e,t));return 0===t?.coolTime?(t.coolTime=6,(e=>{const{start:t=0,step:n=1}={start:0,step:1},r=1/n;return Array.from({length:Math.ceil((e-t+n)/n)},(e,n)=>(t*r+n)/r)})(o(5)).map(()=>u(r(o(2)>1)))):[]}).filter(e=>e));((e,t)=>{const n=l("#eden");n&&((e=>{for(;e.firstChild;)e.removeChild(e.firstChild)})(n),((e,t)=>{t.forEach(t=>{e.appendChild(t)})})(n,t))})(0,c.map(e=>e.element)),i.innerHTML=String(Number(i.innerHTML)+1),s(()=>g(c),5/Number(y.value))};g([!0,!0,!1,!1].map(e=>u(r(e))))})();