(()=>{"use strict";const e=(e,t,r)=>Math.min(Math.max(e,r),t),t=(e=0,o=0)=>{const{quotient:a,remainder:n}=(l=o,{quotient:Math.floor(l/12),remainder:l%12});var l;const s=r(e+a,n);return{id:"age",text:s,equal:e=>s===e.text,increment:()=>t(e+a,n+1)}},r=(e,t)=>t<2?`${e}y/o ${t}mo.`:`${e}y/o ${t}mos.`,o=e=>e?"XX":"XY",a=document,n=e=>a.querySelector(e),l=e=>Math.floor(Math.random()*e),s=(e,t,r)=>e-r<=t&&e+r>=t,m=n("#month"),i=(()=>{const e=n("#cat");var t;return e&&(t=e,a.body.removeChild(t)),()=>(e=>e?.cloneNode(!0))(e)})();let c=!0;const f=r=>{const o=i();return o.addEventListener("dragstart",()=>{c=!1}),o.addEventListener("dragend",t=>{c=!0;const r=t.target.parentElement,{offsetHeight:o,offsetWidth:a}=r??{offsetHeight:0,offsetWidth:0},n=e((t.y-72)/o*100,100,0);t.target.style.top=`${n}%`;const l=e((t.x-24)/a*100,100,0);t.target.style.left=`${l}%`}),{age:t(),element:o,sex:r,coolTime:12,top:0,left:0}},d=t(1),u=t(10),h=e=>{c?y(e):g(e)},p=n("#speed"),g=e=>{return t=()=>h(e),r=5/Number(p.value),setTimeout(t,1e3*r);var t,r},y=e=>{e.forEach(e=>{e.age=e.age.increment(),d.equal(e.age)&&(e.element.className="adult"),e.coolTime&&e.coolTime--,e.top=l(100),e.left=l(100),e.element.style.top=`${e.top}%`,e.element.style.left=`${e.left}%`});const t=e.filter(e=>!u.equal(e.age)),{females:r,males:a}=t.filter(e=>!e.coolTime).reduce((e,t)=>{const{females:r,males:o}=e;return"XX"===t.sex?{females:r,males:[...o,t]}:{females:[...r,t],males:o}},{females:[],males:[]}),i=t.concat(a.flatMap(e=>{const t=r.find(t=>{return o=t,s((r=e).top,o.top,5)&&s(r.left,o.left,5);var r,o});return 0===t?.coolTime?(t.coolTime=6,(e=>{const{start:t=0,step:r=1}={start:0,step:1},o=1/r;return Array.from({length:Math.ceil((e-t+r)/r)},(e,r)=>(t*o+r)/o)})(l(5)).map(()=>f(o(l(2)>1)))):[]}).filter(e=>e));((e,t)=>{const r=n("#eden");r&&((e=>{for(;e.firstChild;)e.removeChild(e.firstChild)})(r),((e,t)=>{t.forEach(t=>{e.appendChild(t)})})(r,t))})(0,i.map(e=>e.element)),m.innerHTML=String(Number(m.innerHTML)+1),g(i)};h([!0,!0,!1,!1].map(e=>f(o(e))))})();