(()=>{"use strict";const e=(e,t,r)=>Math.min(Math.max(e,r),t),t=e=>Math.floor(Math.random()*e),r=(e=0,t=0)=>{const{quotient:n,remainder:a}=(o=t,{quotient:Math.floor(o/12),remainder:o%12});var o;const s=l(e+n,a);return{id:"age",text:s,equal:e=>s===e.text,increment:()=>r(e+n,a+1)}},l=(e,t)=>t<2?`${e}y/o ${t}mo.`:`${e}y/o ${t}mos.`,n=e=>e?"XX":"XY",a=(e,t)=>Array.from({length:e},t),o=document,s=e=>o.querySelector(e),m=(e,t)=>setTimeout(e,1e3*t),i=(e,t,r)=>e-r<=t&&e+r>=t,c=s("#month"),d=(()=>{const e=s("#cat");var t;return e&&(t=e,o.body.removeChild(t)),()=>(e=>e?.cloneNode(!0))(e)})(),f=["#000","darkslateblue","palevioletred","brown","darkgoldenrod"];let y,u=!0;const h=l=>{const n=d();return n.addEventListener("dragstart",()=>{u=!1}),n.addEventListener("dragend",t=>{clearTimeout(y),y=m(()=>{u=!0},5/Number(v.value));const r=t.target.parentElement,{offsetHeight:l,offsetWidth:n}=r??{offsetHeight:0,offsetWidth:0},a=e((t.y-72)/l*100,100,0);t.target.style.top=`${a}%`;const o=e((t.x-24)/n*100,100,0);t.target.style.left=`${o}%`}),n.style.setProperty("--primary",f[t(f.length)]),n.style.setProperty("--secondary",f[t(f.length)]),n.style.setProperty("--third",f[t(f.length)]),{age:r(),element:n,sex:l,coolTime:12,top:0,left:0}},p=r(1),g=r(10),v=s("#speed"),x=e=>{u&&e.forEach(e=>{e.age=e.age.increment(),p.equal(e.age)&&(e.element.className="adult"),e.coolTime&&e.coolTime--,e.element.style.top=`${t(100)}%`,e.element.style.left=`${t(100)}%`});const r=e.filter(e=>!g.equal(e.age)),{females:l,males:o}=r.filter(e=>!e.coolTime).reduce((e,t)=>{const{females:r,males:l}=e;return"XX"===t.sex?{females:r,males:[...l,t]}:{females:[...r,t],males:l}},{females:[],males:[]}),d=r.concat(o.flatMap(e=>{const r=l.find(t=>((e,t)=>{const r={x:parseInt(e.element.style.left,10),y:parseInt(e.element.style.top,10)},l={x:parseInt(t.element.style.left,10),y:parseInt(t.element.style.top,10)};return i(r.y,l.y,5)&&i(r.x,l.x,5)})(e,t));return 0===r?.coolTime?(r.coolTime=6,(e=>{const{start:t=0,step:r=1}={start:0,step:1},l=Math.ceil((e-t+r)/r);return a(l,(e,l)=>l/(1/r)+t)})(t(5)).map(()=>h(n(t(2)>1)))):[]}).filter(e=>e));((e,t)=>{const r=s("#eden");r&&((e=>{for(;e.firstChild;)e.removeChild(e.firstChild)})(r),((e,t)=>{t.forEach(t=>{e.appendChild(t)})})(r,t))})(0,d.map(e=>e.element)),c.innerHTML=String(Number(c.innerHTML)+1),m(()=>x(d),5/Number(v.value))};var T;x((T=[!0,!1],a(2,(e,t)=>T[t%T.length])).map(e=>h(n(e))))})();